<template>
    <div class="game-table">
        <pre>
            {{getDeck}}
        </pre>
        <div class="game-table-frame">
            <div class="cards">
                <CardItem v-for="(item) in getDeck"
                          :size="'middle'"
                          :highlight-mode-prop="true"
                          :item-data="item"
                          :key="item.id"/>
            </div>
        </div>
    </div>
    <div class="hand-part">
        <div class="hand-cards d-flex">
            <CardItem v-for="(item) in getHand"
                      :size="'small'"
                      :highlight-mode-prop="false"
                      :item-data="item"
                      :key="item.id"/>
        </div>
    </div>
</template>
<script>
    import { ref } from 'vue'
    import { mapGetters, mapActions } from 'vuex'
    import CardItem from '@/components/CardItem.vue'
    export default {
        name: 'Home',
        components: { CardItem },
        setup () {
            const activeCards = ref([
                { suit: 0, value: 2, location: 'inDeck', highlighted: true },
                { suit: 1, value: 2, location: 'inDeck', highlighted: false },
                { suit: 2, value: 2, location: 'inDeck', highlighted: false },
                { suit: 3, value: 2, location: 'inDeck', highlighted: false },
                { suit: 3, value: 3, location: 'inDeck', highlighted: false },
            ]);
            return { activeCards }
        },
        computed: {
            ...mapGetters(['getHand', 'getDeck'])
        },
        methods: {
            ...mapActions({
                setDeckAction: 'setDeckAction'
            })
        },
        mounted () {
            this.setDeckAction({ id: 0, suit: 0, value: 2, location: 'inDeck', highlighted: false })
        }
    }
</script>
<style lang="scss">
    .game-table {
        margin: 60px auto 0;
        height: 400px;
        width: 900px;
        border-radius: 200px;
        background: green;
        border: 12px solid #000000;
        .game-table-frame {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            .cards {
                display: flex;
                align-items: center;
                justify-content: center;
                border: 1px solid #ffffff20;
                height: 260px;
                width: 700px;
                border-radius: 130px;
            }
        }
    }
    .hand-part {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: -40px;
    }
</style>